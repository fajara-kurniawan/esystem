<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Elastic Beauties</title>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/bulma.css') }}">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

</head>
<body>
    <section>
        {% block content %}
        <form method="POST" action="/test_post">
            <div class="container" id="formproduct">
            <div class="container" id="areaproduct">
            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Brand</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <div class="control">
                      <div class="select">
                        <select class="brand_name">
                            <option disabled selected value> -- select brand -- </option>
                            {% for brand in brand_result %}
                                    <option value="{{brand}}">{{brand}}</option>-->
                            {% endfor %}
                        </select>
                      </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Product Name</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <div class="control">
                      <div class="select">
                        <select class="product_name">
                            <option disabled selected value> -- select product -- </option>
                        </select>
                      </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Product Amount</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <div class="control">
                    <input class="input" type="number" name="productamount">
                  </div>
                </div>
              </div>
            </div>
            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Product Sell Price</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <div class="control">
                    <input class="input" type="text" name="productsellprice">
                  </div>
                </div>
              </div>
            </div>
            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Product Total</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <div class="control">
                    <input class="input" type="text" name="producttotal">
                  </div>
                </div>
              </div>
            </div>
            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Product Profit</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <div class="control">
                    <input class="input" type="text" name="productprofit">
                  </div>
                </div>
              </div>
            </div>
                </div>
                </div>
          <button id="addMore">Add more fields</button>
          <br>
          <br>
          <input type="submit">

        </form>
        {% endblock %}
    </section>
    <script type="text/javascript">

       $('.brand_name').change(function() {

          var brand_name = $('.brand_name').val();

          // Make Ajax Request and expect JSON-encoded data
          $.getJSON(
            '/get_product' + '/' + brand_name,
            function(data) {

              // Remove old options
              $('.product_name').find('option').remove();

              // Add new items
              $.each(data, function(key, val) {
                var option_item = '<option value="' + val + '">' + val + '</option>'
                $('.product_name').append(option_item);
              });
            }
          );
        });



    </script>
</body>

<!--        $("#addMore").click(function(e) {-->
<!--            e.preventDefault();-->
<!--            var $areaproduct = $("#areaproduct").clone();-->
<!--            $("#formproduct").append("<br>");-->
<!--            $("#formproduct").append($areaproduct);-->
<!--          });-->

<!--       $('#brand_name').change(function() {-->

<!--          var brand_name = $('#brand_name').val();-->

<!--          // Make Ajax Request and expect JSON-encoded data-->
<!--          $.getJSON(-->
<!--            '/get_product' + '/' + brand_name,-->
<!--            function(data) {-->

<!--              // Remove old options-->
<!--              $('#product_name').find('option').remove();-->

<!--              // Add new items-->
<!--              $.each(data, function(key, val) {-->
<!--                var option_item = '<option value="' + val + '">' + val + '</option>'-->
<!--                $('#product_name').append(option_item);-->
<!--              });-->
<!--            }-->
<!--          );-->
<!--        });-->

<!--          $(document).ready(function() {-->
<!--            $('#brand_name').change(function() {-->

<!--              var brand_name = $('#brand_name').val();-->

<!--              // Make Ajax Request and expect JSON-encoded data-->
<!--              $.getJSON(-->
<!--                '/get_product' + '/' + brand_name,-->
<!--                function(data) {-->

<!--                  // Remove old options-->
<!--                  $('#product_name').find('option').remove();-->

<!--                  // Add new items-->
<!--                  $.each(data, function(key, val) {-->
<!--                    var option_item = '<option value="' + val + '">' + val + '</option>'-->
<!--                    $('#product_name').append(option_item);-->
<!--                  });-->
<!--                }-->
<!--              );-->
<!--            });-->
<!--            -->
<!--            $(function() {-->
<!--              $("#addMore").click(function(e) {-->
<!--                e.preventDefault();-->
<!--                $("#fieldList").append("<div class='field is-horizontal'>-->
<!--                  <div class='field-label is-normal'>-->
<!--                    <label class='label'>Brand</label>-->
<!--                  </div>-->
<!--                  <div class='field-body'>-->
<!--                    <div class='field'>-->
<!--                      <div class='control'>-->
<!--                            <input class='input' type='text' name='productprofit'>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>");-->
<!--              });-->
<!--            });-->
<!--          });-->

<!--    <script type="text/javascript">-->
<!--          $(document).ready(function() {-->
<!--            $('#brand').change(function() {-->

<!--              var brand = $('#brand').val();-->

<!--              // Make Ajax Request and expect JSON-encoded data-->
<!--              $.getJSON(-->
<!--                '/get_product' + '/' + brand,-->
<!--                function(data) {-->

<!--                  // Remove old options-->
<!--                  // $('#food').find('option').remove();-->

<!--                  // Add new items-->
<!--                  $.each(data, function(key, val) {-->
<!--                    var option_item = '<option value="' + val + '">' + val + '</option>'-->
<!--                    $('#product_name').append(option_item);-->
<!--                  });-->
<!--                }-->
<!--              );-->
<!--            });-->
<!--          });-->

<!--        $(function() {-->
<!--          $("#addMore").click(function(e) {-->
<!--            e.preventDefault();-->
<!--            $("#fieldList").append("<li>&nbsp;</li>");-->
<!--            $("#fieldList").append("<li><input type='text' name='name[]' placeholder='Name' /></li>");-->
<!--            $("#fieldList").append("<li><input type='text' name='phone[]' placeholder='Phone' /></li>");-->
<!--            $("#fieldList").append("<li><input type='text' name='email[]' placeholder='E-Mail' /></li>");-->
<!--            $("#fieldList").append("<div class='control'> <div class='select'><select name='country'>{% for opt in data %} <option value='{{opt}}'>{{opt}}</option>{% endfor %}</select></div></div>");-->
<!--          });-->
<!--        });-->
<!--    </script>-->

